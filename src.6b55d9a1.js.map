{"version":3,"sources":["src/config.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/bundle-loader.js","src/index.js","node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js"],"names":["directionRendererOptions","suppressMarkers","suppressInfoWindows","preserveViewport","polylineOptions","strokeColor","strokeOpacity","strokeWeight","zIndex","borderPolylineOptions","unselectedDirectionRendererOptions","draggable","pedestrianLineOptions","path","fillColor","fillOpacity","directionRendererPedestrianOptions","icons","icon","offset","repeat","directionRendererTransitOptions","googleDirectionsRequestOptions","provideRouteAlternatives","durationInTraffic","woosmapLoadOptions","version","publicKey","loadJQuery","googleLoadOptions","key","librariesToLoad","googleMapsOptions","center","lat","lng","mapId","zoom","mapTypeControl","fullscreenControl","styles","featureType","stylers","visibility","elementType","woosmapOptions","style","default","url","scaledSize","width","height","selectedIcon","tileStyle","color","size","minSize","breakPoint","summaryTemplate","stepsHeaderTemplate","templateInfoWindow","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","id","length","Promise","resolve","code","LazyPromise","reject","loadBundles","slice","then","all","map","loadBundle","bundleLoaders","registerBundleLoader","type","loader","module","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","catch","e","executor","promise","prototype","onSuccess","onError","mapView","infoWindow","directionsResults","directionsInputs","directionsProvider","directionsTravelMode","callback","woosmap_main","originDestination","origin","destination","originDestinationText","originText","destinationText","directionsError","response","status","google","maps","DirectionsStatus","ZERO_RESULTS","displayNoResults","set","initDirections","summaryContainer","document","querySelector","instructionsContainer","originInput","destinationInput","woosmap","location","DirectionsProvider","travelModeModule","DirectionsTravelMode","bindTo","directionsInputModule","DirectionsInputs","directionsResultsModule","DirectionsResults","registerGoToStore","addEventListener","selectedStore","get","geometry","coordinates","join","properties","name","close","MapsLoader","Map","getElementById","TiledView","renderer","TemplateRenderer","LocatorWindow","setOpeningCallback","remove","window","WoosmapLoader","script","createElement","async","charset","src","onerror","onload","getElementsByTagName","appendChild"],"mappings":"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","file":"src.6b55d9a1.js","sourceRoot":"..","sourcesContent":["export const directionRendererOptions = {\n  suppressMarkers: true,\n  suppressInfoWindows: true,\n  preserveViewport: true,\n  polylineOptions: {\n    strokeColor: \"#669DF6\",\n    strokeOpacity: 1.0,\n    strokeWeight: 4.5,\n    zIndex: 3\n  },\n  borderPolylineOptions: {\n    strokeColor: \"#1967D2\",\n    strokeOpacity: 1.0,\n    strokeWeight: 7,\n    zIndex: 2\n  }\n};\n\nexport const unselectedDirectionRendererOptions = {\n  suppressMarkers: true,\n  suppressInfoWindows: true,\n  draggable: false,\n  preserveViewport: true,\n  polylineOptions: {\n    strokeColor: \"#BBBDBF\",\n    strokeOpacity: 1.0,\n    strokeWeight: 4,\n    zIndex: 1\n  },\n  borderPolylineOptions: {\n    strokeColor: \"#929497\",\n    strokeOpacity: 1.0,\n    strokeWeight: 6,\n    zIndex: 0\n  }\n};\n\nexport const pedestrianLineOptions = {\n  path: \"M 0,0 0,0\",\n  strokeColor: \"#669DF6\",\n  fillColor: \"#1967D2\",\n  strokeOpacity: 1,\n  fillOpacity: 1\n};\n\nexport const directionRendererPedestrianOptions = {\n  suppressMarkers: true,\n  suppressInfoWindows: true,\n  polylineOptions: {\n    strokeOpacity: 0,\n    strokeWeight: 0,\n    zIndex: 3,\n    icons: [\n      {\n        icon: pedestrianLineOptions,\n        offset: 0,\n        repeat: \"13px\"\n      }\n    ]\n  }\n};\n\nexport const directionRendererTransitOptions = {\n  suppressMarkers: true,\n  suppressInfoWindows: true,\n  polylineOptions: {\n    strokeOpacity: 0,\n    strokeWeight: 0,\n    zIndex: 3,\n    icons: [\n      {\n        icon: pedestrianLineOptions,\n        offset: 0,\n        repeat: \"13px\"\n      }\n    ]\n  }\n};\n\nexport const googleDirectionsRequestOptions = {\n  provideRouteAlternatives: true,\n  durationInTraffic: true\n};\n\nexport const woosmapLoadOptions = {\n  version: \"1.4\",\n  publicKey: \"woos-48c80350-88aa-333e-835a-07f4b658a9a4\", //replace with your public key\n  loadJQuery: false\n};\n\nexport const googleLoadOptions = {\n  key: \"AIzaSyBn3kw1bNdgmiXAczwr2DcKLAaW-M3nX14\",\n  librariesToLoad: [\"places\"]\n};\n\nexport const googleMapsOptions = {\n  center: {\n    lat: 51.515,\n    lng: -0.12\n  },\n  mapId: \"3563fa73fe1d1ce\",\n  zoom: 11,\n  mapTypeControl: false,\n  fullscreenControl: false,\n  styles: [\n    {\n      featureType: \"poi\",\n      stylers: [{ visibility: \"off\" }]\n    },\n    {\n      featureType: \"transit\",\n      elementType: \"labels.icon\",\n      stylers: [{ visibility: \"off\" }]\n    }\n  ]\n};\n\nexport const woosmapOptions = {\n  style: {\n    default: {\n      icon: {\n        url: \"https://images.woosmap.com/starbucks-marker.svg\",\n        scaledSize: { width: 34, height: 40 }\n      },\n      selectedIcon: {\n        url: \"https://images.woosmap.com/selected-starbuck.svg\",\n        scaledSize: { width: 32, height: 32 }\n      }\n    }\n  },\n  tileStyle: {\n    color: \"#008248\",\n    size: 15,\n    minSize: 4\n  },\n  breakPoint: 12\n};\n\nexport const summaryTemplate =\n  \"<div>\" +\n  '<div class=\"section-directions-trip\" data-rendererindex=\"{{ rendererIndex }}\">' +\n  '<img src=\"{{#image_travelmode}}{{/image_travelmode}}\"' +\n  'class=\"section-directions-trip-travel-mode-icon\">' +\n  ' <div class=\"section-directions-trip-description\">' +\n  '<div class=\"section-directions-trip-numbers\">' +\n  '<div class=\"section-directions-trip-duration\">' +\n  \"{{#durationInTrafficShort }} {{ durationInTrafficShort }} {{/durationInTrafficShort }}\" +\n  \"</div>\" +\n  '<div class=\"section-directions-trip-distance\">{{ distance }}</div>' +\n  \"</div>\" +\n  \"<div>\" +\n  '<div class=\"section-directions-trip-title\">via {{ summary }}</div>' +\n  '<div class=\"section-directions-trip-summary\">' +\n  \"<div >{{ durationShort }} sans circulation</div>\" +\n  \"</div>\" +\n  \"</div>\" +\n  '<div class=\"section-directions-trip-details-msg\" data-detailsindex=\"{{ rendererIndex }}\">Details</div>' +\n  \"</div>\" +\n  \"</div>\";\n\nexport const stepsHeaderTemplate =\n  '<div class=\"directions-trip\">' +\n  '<div class=\"directions-trip-header\">' +\n  '<button class=\"directions-trip-header-back\"></button>' +\n  '<span class=\"directions-trip-header-fromto\">' +\n  '<div class=\"directions-trip-header-waypoint\"> from ' +\n  '<span class=\"directions-trip-header-from\">{{originText}}</span>' +\n  \"</div>\" +\n  '<div class=\"directions-trip-header-waypoint\"> to ' +\n  '<span class=\"directions-trip-header-to\">{{destinationText}}</span>' +\n  \"</div>\" +\n  \"</span>\" +\n  \"</div>\" +\n  '<div class=\"directions-trip-actions\">' +\n  '<a href=\"{{directionsLink}}\" target=\"_blank\" title=\"open in google maps\"><button class=\"directions-trip-actions-button\"></button></a>' +\n  \"</div>\" +\n  '<div class=\"directions-trip-summary-header\">' +\n  \"<span>\" +\n  '<span class=\"delay\" >{{durationInTrafficShort}} </span>' +\n  '<span class=\"directions-trip-summary-subtitle\">(<span >{{distance}}</span>)</span>' +\n  \"</span>\" +\n  '<span class=\"directions-trip-summary-description\">via {{ summary }}' +\n  \"</span>\" +\n  \"</div>\" +\n  '<div class=\"directions-waypoint\">' +\n  \"<span>\" +\n  '<h4 class=\"waypoint-address\">{{originText}}</h4>' +\n  \"</span>\" +\n  \"</div>\";\n\nexport const templateInfoWindow =\n  \"<div class='infoBox'>\" +\n  \"<div class='selected-store-card'><div>\" +\n  \"<div class='store-title'>{{name}}</div>\" +\n  \"{{#types}}<div class='store-types'>{{types}}</div>{{/types}}\" +\n  \"<div class='content'><div class='store-address'>{{address.lines}}</div>\" +\n  \"<button class='store-direction'>Get Directions</button>\" +\n  \"</div></div>\" +\n  \"</div>\";\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","import \"./styles.css\";\nimport \"./directionsResults.css\";\nimport \"./directionsTravelMode.css\";\nimport \"./infoWindow.css\";\nimport \"./override.css\";\n\nimport {\n  woosmapOptions,\n  woosmapLoadOptions,\n  googleMapsOptions,\n  googleLoadOptions,\n  directionRendererOptions,\n  googleDirectionsRequestOptions,\n  unselectedDirectionRendererOptions,\n  templateInfoWindow\n} from \"./config.js\";\n\nwoosmapLoadOptions.callback = woosmap_main;\n\nlet map,\n  mapView,\n  infoWindow,\n  directionsResults,\n  directionsInputs,\n  directionsProvider,\n  directionsTravelMode;\n\nconst originDestination = {\n  origin: \"Sheffield\",\n  destination: \"Cambridge\"\n};\nconst originDestinationText = {\n  originText: \"Sheffield\",\n  destinationText: \"Cambridge\"\n};\n\nfunction directionsError(response, status) {\n  if (status === google.maps.DirectionsStatus.ZERO_RESULTS) {\n    directionsResults.displayNoResults(\n      response,\n      directionsInputs.originDestinationText\n    );\n  } else {\n    directionsResults.set(\"response\", response);\n  }\n}\n\nasync function initDirections() {\n  const summaryContainer = document.querySelector(\"#routes\");\n  const instructionsContainer = document.querySelector(\"#instructions\");\n  const originInput = document.querySelector(\"#directions-origin-input\");\n  const destinationInput = document.querySelector(\n    \"#directions-destination-input\"\n  );\n  directionsProvider = new woosmap.location.DirectionsProvider(\n    null,\n    googleDirectionsRequestOptions,\n    directionsError\n  );\n\n  const travelModeModule = await import(\"./directionsTravelMode.js\");\n  directionsTravelMode = new travelModeModule.DirectionsTravelMode(\n    directionsProvider\n  );\n  directionsProvider.bindTo(\"selectedTravelMode\", directionsTravelMode);\n\n  const directionsInputModule = await import(\"./directionsInputs.js\");\n  directionsInputs = new directionsInputModule.DirectionsInputs(\n    originInput,\n    destinationInput\n  );\n  directionsProvider.bindTo(\"originDestination\", directionsInputs);\n\n  const directionsResultsModule = await import(\"./directionsResults.js\");\n  directionsResults = new directionsResultsModule.DirectionsResults(\n    map,\n    directionRendererOptions,\n    unselectedDirectionRendererOptions,\n    summaryContainer,\n    instructionsContainer\n  );\n  directionsResults.bindTo(\"directionsRenderers\", directionsProvider);\n  directionsResults.bindTo(\"directionsSummaries\", directionsProvider);\n  directionsResults.bindTo(\"directionsLink\", directionsProvider);\n  directionsResults.bindTo(\"selectedTravelMode\", directionsTravelMode);\n  directionsResults.bindTo(\"origindestinationText\", directionsInputs);\n  directionsInputs.set(\"originDestination\", originDestination);\n  directionsInputs.set(\"origindestinationText\", originDestinationText);\n}\n\nfunction registerGoToStore() {\n  document.querySelector(\".store-direction\").addEventListener(\n    \"click\",\n    (e) => {\n      const selectedStore = mapView.get(\"selectedStore\");\n      directionsInputs.set(\"originDestination\", {\n        origin: directionsInputs.get(\"originDestination\").origin,\n        destination: selectedStore.geometry.coordinates.join(\",\")\n      });\n      directionsInputs.set(\"origindestinationText\", {\n        originText: directionsInputs.get(\"origindestinationText\").originText,\n        destinationText: \"Starbucks, \" + selectedStore.properties.name\n      });\n      infoWindow.close();\n    },\n    this\n  );\n}\n\nfunction woosmap_main() {\n  const loader = new woosmap.MapsLoader(googleLoadOptions);\n  loader.load(function () {\n    map = new google.maps.Map(\n      document.getElementById(\"map\"),\n      googleMapsOptions\n    );\n    mapView = new woosmap.TiledView(map, woosmapOptions);\n    const renderer = new woosmap.TemplateRenderer(templateInfoWindow);\n    infoWindow = new woosmap.LocatorWindow(map, renderer);\n    infoWindow.setOpeningCallback(registerGoToStore);\n    mapView.bindTo(\"selectedStore\", infoWindow);\n    initDirections();\n    document.getElementById(\"loader\").remove();\n  });\n}\n\nwindow.WoosmapLoader.load(woosmapLoadOptions);","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}